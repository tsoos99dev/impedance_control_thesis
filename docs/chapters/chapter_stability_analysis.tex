\chapter{Stability analysis }

\section{asd}

\section{Analog}
\subsection{PD controller}
\noindent 
Substituting these to the equations of motion it yield:
%
\begin{align}
J_a \ddot \varphi -m_2 r l \ddot \theta	&=  -P\theta -D\dot\theta-K\dot \varphi
\\
J_p \ddot \theta -m_2 r l \ddot \varphi - m_2 g l \theta &= 0
\end{align}


\noindent
After eliminating the cyclic coordinate $\varphi$ we get
\begin{align}
\underbrace{
	\left(
	\dfrac{J_a J_p}{m_2 r l} - m_2 r l
	\right)
}_{a_3}
\dddot{\theta}
+
\underbrace{
	\left(
	ND+K\dfrac{J_p}{m_2 r l}
	\right)
}_{a_2}
\ddot \theta
+
\underbrace{
	\left(
	NP-J_a\dfrac{g}{r}
	\right)
}_{a_1}
\dot \theta
+
\underbrace{
	\left(
	-K\dfrac{g}{r}
	\right)
}_{a_0}
\theta	
%
=
0
\end{align}

\noindent 
Assuming the solution in $\theta (t) = K e^{\lambda t}$ form we can get the characteristic polynomial:
\begin{align}
a_3\lambda^3 + a_2\lambda^2 + a_1\lambda +a_0 =0
\end{align}
Because all parameter in the  equations are positive, it can be proven that the $a_3$ coefficient is always positive, while the $a_0$ coefficiten is always negative, so by applying the Routh-Hurwitz stability criterion, we can conclude that we can not stabilize the inverted pendulum by a simple PD controller, the back EMF effect of the motor will destabilize the system. 

Thus, a more complicated controller is needed, the possibilities are shown in the figure~\ref{fig:furutacontrolhand}. The possibilities in the alalog case are to use a PID controller or a PD$_1$D$_2$ controller. In the case of PD$_1$D$_2$ controller we also have to measure the velocity of the cyclic coordinate. 
\begin{figure}[p]
	\centering
	\includegraphics[width=0.99\linewidth]{furutaControlHand}
	\caption{Control possibilites}\label{fig:furutacontrolhand}
\end{figure}



\subsection{\texorpdfstring{PID and PD\textsubscript{1}D\textsubscript{2} controller}{PID and PD\_1D\_2 controller}}
The stability analysis were done for both PID and PD$_1$D$_2$ controller.
Both cases result in stable parameter ranges for controller parameters, they are theoretically capable to stabilize the inverted pendulum around its unstable equilibrium.


\section{Digital controller}
In the case of digital controller, we can still hope that the simple digital PD controller can stabilize the inverted pendulum, there are other examples, when the digital controller performs better than the analog and the digital effects stabilize the system.

